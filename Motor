#define A      10   // Red wire
#define aMinus 12   // Blue wire
#define B      5  // Black wire
#define bMinus 13  // Green wire

// Define the number of steps per revolution (360° / 18° per step), as per datasheet
int stepsPerRevolution = 20;

void setup() {
  Serial.begin(9600);

  // Set pin modes
  pinMode(A, OUTPUT);
  pinMode(aMinus, OUTPUT);
  pinMode(B, OUTPUT);
  pinMode(bMinus, OUTPUT);
}

void rotation(int angleInput, int direction){
  stepsPerRevolution = angleInput/20;

  if (direction == 1) { // clockwise
   for (int i = 0; i < stepsPerRevolution; i++) {
    // Step 1
    digitalWrite(A, HIGH);
    digitalWrite(aMinus, LOW);
    digitalWrite(B, LOW);
    digitalWrite(bMinus, HIGH);
    delay(5);

    // Step 2
    digitalWrite(A, HIGH);
    digitalWrite(aMinus, LOW);
    digitalWrite(B, HIGH);
    digitalWrite(bMinus, LOW);
    delay(5);

    // Step 3
    digitalWrite(A, LOW);
    digitalWrite(aMinus, HIGH);
    digitalWrite(B, HIGH);
    digitalWrite(bMinus, LOW);
    delay(5);

    // Step 4
    digitalWrite(A, LOW);
    digitalWrite(aMinus, HIGH);
    digitalWrite(B, LOW);
    digitalWrite(bMinus, HIGH);
    delay(5);

    }
  } 
  

  else if (direction == 2) { // counter clockwise
    for (int i = 0; i < stepsPerRevolution; i++) {
    // Step 1
    digitalWrite(A, LOW);
    digitalWrite(aMinus, HIGH);
    digitalWrite(B, LOW);
    digitalWrite(bMinus, HIGH);
    delay(5);

    // Step 2
    digitalWrite(A, LOW);
    digitalWrite(aMinus, HIGH);
    digitalWrite(B, HIGH);
    digitalWrite(bMinus, LOW);
    delay(5);

    // Step 3
    digitalWrite(A, HIGH);
    digitalWrite(aMinus, LOW);
    digitalWrite(B, HIGH);
    digitalWrite(bMinus, LOW);
    delay(5);

    // Step 4
    digitalWrite(A, HIGH);
    digitalWrite(aMinus, LOW);
    digitalWrite(B, LOW);
    digitalWrite(bMinus, HIGH);
    delay(5);
    
    }
  
  }

}

void loop() {
  rotation(20, 1);

  while (true) { // Stop

    digitalWrite(A, LOW);
    digitalWrite(aMinus, LOW);
    digitalWrite(B, LOW);
    digitalWrite(bMinus, LOW);

    delay(1000);
  }
}
